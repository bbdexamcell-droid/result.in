<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BBDU Result</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="login">

<div class="card">
  <div class="header">ENTER DETAILS BELOW</div>

  <form id="loginForm">
    <input type="text" 
           id="rollInput"
           placeholder="University Roll Number" 
           required>

    <input type="text" 
           placeholder="Student Name (First 3 Letters)" 
           maxlength="3" 
           required>

    <input type="text" 
           placeholder="Mother Name (First 3 Letters)" 
           maxlength="3" 
           required>

    <button type="submit">ðŸ”’ View Result</button>
  </form>

  <p id="error" style="color:red; margin-top:10px;"></p>
</div>

<script>

document.getElementById("loginForm").addEventListener("submit", function(e){
  e.preventDefault(); // stop auto open

  const roll = document.getElementById("rollInput").value.trim();

  fetch("students.json")
    .then(res => res.json())
    .then(data => {

      const student = data.find(s => s.ROLL === roll);

      if(student){
        window.location.href = "result.html?roll=" + roll;
      } else {
        document.getElementById("error").innerText = "Invalid Roll Number!";
      }

    });

});

</script>

</body>
</html>
